{"version":3,"file":"jseeder-b3.js","sources":["../src/core/I18n.js","../src/core/AbstractGenerator.js","../src/core/generators/String.js","../src/core/generators/Uuid.js","../src/core/generators/Dataset.js","../src/core/GeneratorFabric.js","../src/core/Collection.js","../src/core/utils/objectMap.js","../src/core/Structure.js","../src/core/Pnrg.js","../src/dictionaries/en/alphabet.js","../src/dictionaries/en/index.js","../src/dictionaries/index.js","../src/Jseeder.js"],"sourcesContent":["export default class I18n {\n\tconstructor(locale, dictionaries) {\n\t\tthis._locale = locale;\n\t\tthis._dictionaries = dictionaries;\n\t}\n\t\n\tget activeDictionary() {\n\t\treturn this._dictionaries[this._locale];\n\t}\n\t\n\tsetLocale(locale) {\n\t\tthis._locale = locale;\n\t\treturn this;\n\t}\n\t\n\tsetDictionaries(dictionaries) {\n\t\tthis._dictionaries = dictionaries;\n\t\treturn this;\n\t}\n}\n\n","export default class AbstractGenerator {\n\tget _dictionary() {\n\t\treturn this._i18n.activeDictionary;\n\t}\n\t\n\tget _hexCharset() {\n\t\treturn '0123456789ABCDEF';\n\t}\n\t\n\tconstructor(i18n, pnrg, params) {\n\t\tthis._params = params;\n\t\tthis._i18n = i18n;\n\t\tthis._pnrg = pnrg;\n\t}\n\t\n\tgenerate() {\n\t\treturn null;\n\t}\n\t\n\t_random() {\n\t\treturn this._pnrg.random();\n\t}\n\t\n\t_mapMask(mask = '', replaceableChar = '#') {\n\t\treturn callback => mask.split('')\n\t\t\t.map(character => character === replaceableChar ? callback(character) : character)\n\t\t\t.join('');\n\t}\n\t\n\t_getRandomFromArray(array) {\n\t\treturn array[Math.floor(this._random() * array.length)];\n\t}\n}\n","import AbstractGenerator from '../AbstractGenerator';\n\nexport default class StringGenerator extends AbstractGenerator {\n\tconstructor(i18n, pnrg, {size = 8, customCharset}) {\n\t\tsuper(i18n, pnrg);\n\t\tthis._size = size;\n\t\tthis._customCharset = customCharset;\n\t}\n\t\n\t\n\tgenerate() {\n\t\tconst charset = this._getCharset();\n\t\tlet value = '';\n\t\t\n\t\tfor (let i = 0; i < this._size; i++) {\n\t\t\tvalue += this._getRandomFromArray(charset.split(''));\n\t\t}\n\t\t\n\t\treturn value;\n\t}\n\t\n\tsize(size) {\n\t\tthis._size = size;\n\t\treturn this;\n\t}\n\t\n\tcustomCharset(charset) {\n\t\tthis._charset = charset;\n\t\treturn this;\n\t}\n\t\n\t_getCharset() {\n\t\treturn this._customCharset || (this._dictionary.alphabet + '0123456789');\n\t}\n}\n","import AbstractGenerator from '../AbstractGenerator';\n\nexport default class StringGenerator extends AbstractGenerator {\n\tget _uuidMask() {\n\t\treturn '########-####-####-####-###########';\n\t};\n\t\n\tconstructor(i18n, pnrg) {\n\t\tsuper(i18n, pnrg);\n\t}\n\t\n\tgenerate() {\n\t\treturn this._mapMask(this._uuidMask)(() => this._getRandomFromArray(this._hexCharset.split('')).toLowerCase());\n\t}\n}\n","import AbstractGenerator from '../AbstractGenerator';\n\nexport default class RangeGenerator extends AbstractGenerator {\n\tconstructor(i18n, pnrg, {data = []}) {\n\t\tsuper(i18n, pnrg);\n\t\tthis._data = data;\n\t}\n\t\n\t\n\tgenerate() {\n\t\treturn this._getRandomFromArray(this._data);\n\t}\n\t\n\tdata(data) {\n\t\tthis._data = data;\n\t\treturn this;\n\t}\n}\n","import StringGenerator from './generators/String';\nimport UuidGenerator from './generators/Uuid';\nimport DatasetGenerator from './generators/Dataset';\n\nexport default class GeneratorFabric {\n\tconstructor(i18n, pnrg) {\n\t\tthis._i18n = i18n;\n\t\tthis._pnrg = pnrg;\n\t}\n\t\n\tstring(params = {}) {\n\t\treturn new StringGenerator(this._i18n, this._pnrg, params);\n\t}\n\t\n\tuuid(params = {}) {\n\t\treturn new UuidGenerator(this._i18n, this._pnrg, params);\n\t}\n\t\n\tdataset(params = {}) {\n\t\treturn new DatasetGenerator(this._i18n, this._pnrg, params);\n\t}\n}\n","export default class Collection {\n\tconstructor(structure) {\n\t\tthis._structure = structure;\n\t\tthis._sourceArray = null;\n\t\tthis._size = null;\n\t}\n\t\n\tstructure(structure) {\n\t\tthis._structure = structure;\n\t\treturn this;\n\t}\n\t\n\tsize(value) {\n\t\tthis._size = value;\n\t\treturn this;\n\t}\n\t\n\tsourceArray(array) {\n\t\tthis._sourceArray = array;\n\t\treturn this;\n\t}\n\t\n\tprocess() {\n\t\treturn this._getArrayForFill().map(element => {\n\t\t\treturn this._structure.process(element);\n\t\t});\n\t}\n\t\n\t_getArrayForFill() {\n\t\tlet sourceArray;\n\t\t\n\t\tif (this._sourceArray !== null && this._size !== null) {\n\t\t\tsourceArray = this._normalizeSourceArrayByCount();\n\t\t} else if (this._sourceArray !== null) {\n\t\t\tsourceArray = [...this._sourceArray];\n\t\t} else {\n\t\t\tsourceArray = new Array(this._size || 0).fill({});\n\t\t}\n\t\t\n\t\treturn sourceArray;\n\t}\n\t\n\t_normalizeSourceArrayByCount(array, count) {\n\t\treturn count > array.length ?\n\t\t\t[...array, new Array(count - array.length).fill({})]\n\t\t\t: array.filter((item, index) => index < count);\n\t}\n}\n","export default (object, callback) => Object.keys(object).reduce((result, propName, index) => ({\n\t...result,\n\t[propName]: callback(object[propName], propName, index, result)\n}), {})\n","import Collection from './Collection';\nimport AbstractGenerator from './AbstractGenerator';\nimport objectMap from './utils/objectMap';\n\nexport default class Structure {\n\tconstructor(object = {}) {\n\t\tthis._object = object;\n\t}\n\t\n\tobject(value) {\n\t\tthis._object = value;\n\t\treturn this;\n\t}\n\t\n\tprocess(sourceObject = {}) {\n\t\treturn {\n\t\t\t...sourceObject,\n\t\t\t...objectMap(this._object, (value, key) => this._processProperty(value, key, sourceObject))\n\t\t};\n\t}\n\t\n\t_processProperty(value, key, sourceObject) {\n\t\tlet processedValue;\n\t\t\n\t\tif (value instanceof AbstractGenerator) {\n\t\t\tprocessedValue = value.generate();\n\t\t} else if (value instanceof Collection) { // recursion to child collection\n\t\t\tprocessedValue = value.process(sourceObject);\n\t\t} else if (typeof value === 'object' && value.constructor === Object) { // only plain objects\n\t\t\tprocessedValue = this.process(value, sourceObject[key]);\n\t\t} else { // plain value\n\t\t\tprocessedValue = value;\n\t\t}\n\t\t\n\t\treturn processedValue;\n\t}\n}\n","export default class Pnrg {\n\tconstructor() {\n\t\tthis._seed = Math.floor((Math.random() * 0xF4240) + 1);\n\t}\n\t\n\trandom() {\n\t\t// console.log('seed', this._seed)\n\t\treturn Math.abs(Math.sin(++this._seed * (this._seed + 0xFF))); // very stupid algorithm\n\t}\n\t\n\tsetSeed(seed) {\n\t\tthis._seed = seed;\n\t\treturn this;\n\t}\n}\n","export default 'abcdefghijklmnopqrstuvwxyz';\n","import alphabet from './alphabet';\n\nexport default {\n\talphabet\n};\n","import en from './en/index';\n\nexport default {\n\ten\n};\n","import I18n from './core/I18n';\nimport GeneratorFabric from './core/GeneratorFabric';\nimport Structure from './core/Structure';\nimport Collection from './core/Collection';\nimport Pnrg from './core/Pnrg';\nimport dictionaries from './dictionaries/index';\n\nconst i18n = new I18n('en', dictionaries);\nconst pnrg = new Pnrg();\nconst generatorFabric = new GeneratorFabric(i18n, pnrg);\n\nexport default class Jseeder {\n\tstatic get types() {\n\t\treturn generatorFabric;\n\t}\n\t\n\tstatic collection(structure) {\n\t\tstructure = structure instanceof Structure ? structure : Jseeder.structure(structure);\n\t\t\n\t\treturn new Collection(structure);\n\t}\n\t\n\tstatic structure(object = {}) {\n\t\treturn new Structure(object);\n\t}\n\t\n\tstatic locale(locale) {\n\t\ti18n.setLocale(locale);\n\t\treturn this;\n\t}\n\t\n\tstatic seed(seed) {\n\t\tpnrg.setSeed(seed);\n\t\treturn this;\n\t}\n}\n"],"names":["I18n","locale","dictionaries","_locale","_dictionaries","AbstractGenerator","_i18n","activeDictionary","i18n","pnrg","params","_params","_pnrg","random","mask","replaceableChar","callback","split","map","character","join","array","Math","floor","_random","length","StringGenerator","size","customCharset","_size","_customCharset","charset","_getCharset","value","i","_getRandomFromArray","_charset","_dictionary","alphabet","_mapMask","_uuidMask","_hexCharset","toLowerCase","RangeGenerator","data","_data","GeneratorFabric","UuidGenerator","DatasetGenerator","Collection","structure","_structure","_sourceArray","_getArrayForFill","element","process","sourceArray","_normalizeSourceArrayByCount","Array","fill","count","filter","item","index","object","Object","keys","reduce","result","propName","Structure","_object","sourceObject","objectMap","key","_processProperty","processedValue","generate","constructor","Pnrg","_seed","abs","sin","seed","en","generatorFabric","Jseeder","setLocale","setSeed"],"mappings":"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"}