!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).Jseeder={})}(this,function(t){"use strict";function e(t,e){this.locale=t,this.dictionaries=e}var n=new(e.prototype.getDictionary=function(t){return this.dictionaries[t]},e.prototype.getActiveDictionary=function(){return this.getDictionary(this.locale)},e.prototype.setLocale=function(t){return this.locale=t,this},e.prototype.setDictionaries=function(t){return this.dictionaries=t,this},e),r={en:{alphabet:"abcdefghijklmnopqrstuvwxyz"}},o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function i(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var s=function(){return(s=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function u(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var i=arguments[e],s=0,u=i.length;s<u;s++,o++)n[o]=i[s];return n}function c(){this.seed=Math.floor(1e6*Math.random()+1)}var a=new(c.prototype.random=function(){return Math.abs(Math.sin(++this.seed*(this.seed+255)))},c.prototype.setSeed=function(t){return this.seed=t,this},c),h=(p.prototype.getDictionary=function(){return""===this.internalLocale?this.i18n.getActiveDictionary():this.i18n.getDictionary(this.internalLocale)},p.prototype.random=function(){return this.pnrg.random()},p.prototype.makeMaskMapper=function(t,r){return void 0===r&&(r="#"),function(e){return t.split("").map(function(t){return t===r?e(t):t}).join("")}},p.prototype.getRandomFromArray=function(t,e){for(var r=e&&0<e.length?e:t.map(function(){return 1}),n=r.reduce(function(t,e){return e+t},0),o=Math.floor(this.random()*n),i=0,s=0;s<t.length;s++)if(o<(i+=r[s]))return t[s]},p);function p(t){void 0===t&&(t={}),this.hexNumberCharset="0123456789ABCDEF",this.decNumberCharset="0123456789";var e=t.locale,r=void 0===e?"":e;this.internalLocale=r,this.i18n=n,this.pnrg=a}var f=(y.prototype.setObject=function(t){return this.object=t,this},y.prototype.process=function(t){return void 0===t&&(t={}),s(s({},t),this.processObject(this.object))},y.prototype.processObject=function(t){var o,i,e=this;return o=t,i=function(t){return e.processProperty(t)},Object.keys(o).reduce(function(t,e,r){var n;return s(s({},t),((n={})[e]=i(o[e],e,r,t),n))},{})},y.prototype.processProperty=function(t){var e,r=t instanceof h?t.get():(e=t,["setObject","setSize","setSourceArray","process"].every(function(t){return t in e})?t.process():t instanceof Object?this.process(t):t);return r},y);function y(t){void 0===t&&(t={}),this.object=t}var l=(d.make=function(t){return new this(t)},d.prototype.setObject=function(t){return this.structure=t,this},d.prototype.setSize=function(t){return this.size=t,this},d.prototype.setSourceArray=function(t){return this.sourceArray=t,this},d.prototype.process=function(){var e=this;return this.getArrayForFill().map(function(t){return new f(e.structure).process(t)})},d.prototype.getArrayForFill=function(){var t=null!=this.sourceArray&&null!=this.size?this.normalizeSourceArrayByCount(this.sourceArray,this.size):null!=this.sourceArray?u(this.sourceArray):new Array(this.size||0).fill({});return t},d.prototype.normalizeSourceArrayByCount=function(t,r){return r>t.length?u(t,[new Array(r-t.length).fill({})]):t.filter(function(t,e){return e<r})},d);function d(t){this.structure=new f(t)}var v,g=(i(m,v=h),m.prototype.get=function(){return this.getRandomFromArray(this.data,this.weights)},m.prototype.setData=function(t){return this.data=t,this},m.prototype.setWeights=function(t){return this.weights=t,this},m);function m(t){void 0===t&&(t={});var e=v.call(this,t)||this,r=t.data,n=void 0===r?[]:r,o=t.weights,i=void 0===o?[]:o;return e.data=n,e.weights=i,e}var b,A=(i(w,b=h),w.prototype.get=function(){for(var t=this.getCharset(),e="",r=0;r<this.size;r++)e+=this.getRandomFromArray(t.split(""));return e},w.prototype.setSize=function(t){return this.size=t,this},w.prototype.setCustomCharset=function(t){return this.customCharset=t,this},w.prototype.getCharset=function(){return this.customCharset||this.getDictionary().alphabet+this.decNumberCharset},w);function w(t){void 0===t&&(t={});var e=b.call(this,t)||this,r=t.size,n=void 0===r?8:r,o=t.customCharset,i=void 0===o?"":o;return e.size=n,e.customCharset=i,e}var j,C=(i(O,j=h),O.prototype.get=function(){var t=this;return this.makeMaskMapper(this.mask)(function(){return t.getRandomFromArray(t.hexNumberCharset.split("")).toLowerCase()})},O);function O(t){void 0===t&&(t={});var e=j.call(this,t)||this;return e.mask="########-####-####-####-###########",e}var z={dataset:function(t){return new g(t)},string:function(t){return new A(t)},uuid:function(t){return new C(t)}};n.setDictionaries(r),t.collection=function(t){return new l(t)},t.generators=z,t.setLocale=function(t){n.setLocale(t)},t.setSeed=function(t){a.setSeed(t)},Object.defineProperty(t,"__esModule",{value:!0})});
